From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Calvin Watford <clavin@electronjs.org>
Date: Sat, 9 Aug 2025 17:00:20 -0600
Subject: test: accomodate V8 thenable stack trace change in snapshot

V8 enhanced the stack trace of "thenable" async tasks. A couple of tests needed to have their snapshots updates to accomodate the extra stack trace frames in the output.

This patch should be upstreamed to Node.js.

See:
6826001: fix thenable async stack trace
https://chromium-review.googlesource.com/c/v8/v8/+/6826001

diff --git a/test/fixtures/test-runner/output/describe_it.snapshot b/test/fixtures/test-runner/output/describe_it.snapshot
index cae467f6487ffef4fbe94da229e30c2537fe9e95..f1240a6a99dafc18ad51d413719df58b757893ab 100644
--- a/test/fixtures/test-runner/output/describe_it.snapshot
+++ b/test/fixtures/test-runner/output/describe_it.snapshot
@@ -726,6 +726,8 @@ not ok 60 - timeouts
       code: 'ERR_TEST_FAILURE'
       stack: |-
         *
+        *
+        *
       ...
     1..2
 not ok 61 - successful thenable
@@ -748,6 +750,7 @@ not ok 62 - rejected thenable
   code: 'ERR_TEST_FAILURE'
   stack: |-
     *
+    *
   ...
 # Subtest: async describe function
     # Subtest: it inside describe 1
